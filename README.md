# openresty-JWT
JWT
介绍
权限认证是接口开发中不可避免的问题,权限认证包括两个方面

接口需要知道调用的用户是谁
接口需要知道该用户是否有权限调用
第1个问题偏向于架构，第2个问题更偏向于业务，因此考虑在架构层解决第1个问题，以达到以下目的

所有请求被保护的接口保证是合法的(已经认证过的用户)
接口可以从请求头中获取当前用户信息
每个请求都有uuid用于标识
JWT(JSON Web Token)目前是应用最广的接口权限方案，具有无状态,跨系统,多语言多平台支持等特点，如果能在网关层实现JWT验证不仅可以避免代码入侵还能为整个后台提供统一的解决方案,目前客户网关使用Nginx,但社区版Nginx中没有JWT模块,自己实现不现实,因此选择OpenResty作为网关层, 据官网介绍,OpenResty® 是一个基于 Nginx 与 Lua 的高性能 Web 平台，其内部集成了大量精良的 Lua 库、第三方模块以及大多数的依赖项。用于方便地搭建能够处理超高并发、扩展性极高的动态 Web 应用、Web 服务和动态网关。本质上就是一个Nginx+Lua的集成软件.
整体架构如图：
